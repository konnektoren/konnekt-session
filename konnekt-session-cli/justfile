# Default recipe
default:
    @just --list

# Run CLI with custom args
run *ARGS:
    cargo run -- {{ ARGS }}

# Create a host session (example)
host NAME="TestHost":
    cargo run -- create-host --name "{{ NAME }}"

# Join a session (example - requires session ID)
join SESSION_ID NAME="TestGuest":
    cargo run -- join --session-id "{{ SESSION_ID }}" --name "{{ NAME }}"

# Create a host with TURN server
host-turn NAME TURN_SERVER TURN_USER TURN_PASS:
    cargo run -- create-host --name "{{ NAME }}" \
        --turn-server "{{ TURN_SERVER }}" \
        --turn-username "{{ TURN_USER }}" \
        --turn-credential "{{ TURN_PASS }}"

# Create a host session (TUI)
host-tui NAME="TestHost":
    cargo run --bin konnekt-tui --features tui -- create-host --name "{{ NAME }}"

# Join a session (TUI)
join-tui SESSION_ID NAME="TestGuest":
    cargo run --bin konnekt-tui --features tui -- join --session-id "{{ SESSION_ID }}" --name "{{ NAME }}"
