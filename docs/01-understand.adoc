= Step 1: Understand – Business Model & Strategy
:icons: font
:toc: left
:toclevels: 3
:sectnums:

== Purpose

Align our architectural decisions with the business goals and user needs of Konnekt Session.

== Business Model Canvas

[cols="1,2", options="header"]
|===
|Element
|Description

|**Key Partners**
a|
* Matchbox signalling service providers (match.konnektoren.help)
* Game developers building on top of Konnekt Session
* Open source community contributors

|**Key Activities**
a|
* P2P lobby management
* WebRTC connection orchestration
* Host delegation & guest management
* Real-time state synchronization

|**Key Resources**
a|
* Rust/WASM expertise
* WebRTC/Matchbox integration
* Domain knowledge in multiplayer game sessions
* Open source library code

|**Value Propositions**
a|
* **Zero server costs** – no game server infrastructure needed
* **Low latency** – direct P2P connections between players
* **Easy integration** – Rust library for Yew applications
* **Decentralized** – resilient to server failures
* **Extensible** – modular activity system
* **Flexible participation** – guests can toggle between active play and spectating

|**Customer Relationships**
a|
* Documentation & examples
* GitHub issues & discussions
* Community support

|**Channels**
a|
* GitHub repository
* Example applications

|**Customer Segments**
a|
* Indie game developers
* Educational platforms (multiplayer learning games)
* Party game developers
* Prototyping/hackathon projects

|**Cost Structure**
a|
* Development time (open source)
* CI/CD infrastructure
* Documentation maintenance
* Matchbox signalling costs (minimal)

|**Revenue Streams**
a|
* Not applicable (open source library)
|===

== Strategic Goals

=== Short-term
* Deliver a **stable v1.0** with core lobby management features
* Implement **host delegation** protocol
* Support **spectator mode** for flexible participation
* Establish **documentation** with architecture diagrams

=== Medium-term
* Add **activity catalog** extensibility
* Implement **offline mode** with state reconciliation
* Add **co-host** capabilities (optional)

=== Long-term
* Enable **cross-platform** support (native + WASM)
* Add **matchmaking** capabilities
* Support **tournament brackets** with multiple lobbies

== User Needs

=== Primary Users: Game Developers

[cols="1,2,2", options="header"]
|===
|Need
|Current Pain Point
|How Konnekt Session Addresses It

|Simple multiplayer setup
|Complex server infrastructure, WebSocket management
|Single library with Matchbox integration

|Low hosting costs
|Game servers are expensive to run and scale
|No game server needed – only signalling

|Quick prototyping
|Too much boilerplate for multiplayer
|Pre-built lobby & activity components

|Flexible game types
|Rigid frameworks lock you into specific patterns
|Modular activity system, extensible via traits

|Flexible participation
|Players either "in" or "out" - no middle ground
|Spectator mode lets guests watch without playing
|===

=== Secondary Users: Players (Guests)

[cols="1,2,2", options="header"]
|===
|Need
|Current Pain Point
|How Konnekt Session Addresses It

|Fast game start
|Long matchmaking queues, server lag
|Direct P2P connections, instant lobby creation

|Reliable sessions
|Disconnects kill entire game
|Host delegation keeps lobby alive

|Privacy
|Game state stored on untrusted servers
|All state stays on client devices

|Watch before playing
|Forced to play immediately or leave
|Spectator mode - watch first, join later
|===

== Impact Mapping

[plantuml, "impact-map", png]
----
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

title Impact Map – Konnekt Session

rectangle "Goal:\nEnable zero-cost\nmultiplayer games" as goal

rectangle "Indie Game\nDevelopers" as dev
rectangle "Educational\nPlatforms" as edu
rectangle "Party Game\nCreators" as party

rectangle "Reduce\ninfrastructure\ncosts" as impact1
rectangle "Speed up\nprototyping" as impact2
rectangle "Enable\nreal-time\nlearning" as impact3
rectangle "Flexible\nparticipation" as impact4

rectangle "P2P architecture\n(no game server)" as deliverable1
rectangle "Pre-built Yew\ncomponents" as deliverable2
rectangle "Activity\ncatalog system" as deliverable3
rectangle "Spectator\nmode" as deliverable4

goal --> dev
goal --> edu
goal --> party

dev --> impact1
dev --> impact2
edu --> impact3
party --> impact4

impact1 --> deliverable1
impact2 --> deliverable2
impact3 --> deliverable3
impact4 --> deliverable4

@enduml
----

== Key Constraints

[cols="1,3", options="header"]
|===
|Constraint
|Implication

|**No central game server**
|All state management must be client-side; server only for signalling

|**Browser-based**
|Must compile to WASM; limited storage (LocalStorage); WebRTC dependencies

|**Open source**
|Must be maintainable by community; clear abstractions; good documentation

|**Matchbox dependency**
|Limited by Matchbox's capabilities; must work within WebRTC constraints

|**Rust ecosystem**
|Limited Yew component ecosystem; may need to build UI primitives ourselves

|**Single host (v1.0)**
|Only one host per lobby; can delegate role but not share it
|===

== Success Metrics

[cols="1,2,1", options="header"]
|===
|Metric
|Description
|Target (v1.0)

|**Developer Experience**
|Time to first working lobby
|< 3 minutes

|**Performance**
|Connection establishment time
|< 2 seconds

|**Reliability**
|Host delegation success rate
|> 95%

|**Scalability**
|Max concurrent guests per lobby
|10 guests

|**Documentation**
|Coverage of core features
|100%

|**Flexibility**
|Spectator mode toggle success rate
|> 99%
|===

== Key Terminology

[cols="1,3", options="header"]
|===
|Term
|Definition

|**Host**
|The lobby organizer with management privileges (can kick guests, start activities, delegate host role)

|**Guest**
|A regular participant in the lobby

|**Active Mode**
|Guest is participating in activities (can submit results)

|**Spectating Mode**
|Guest is watching only (cannot submit results)

|**Participation Mode**
|Whether a guest is Active or Spectating

|**Host Delegation**
|Transfer of host role from current host to a guest
|===
